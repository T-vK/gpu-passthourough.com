<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="GPU passthrough, list, notebook, laptop, GPU, dGPU, iGPU, eGPU">
    <meta name="author" content="T-vK">

    <title>GPU Passthrough</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.0/css/bootstrap.min.css" integrity="sha384-PDle/QlgIONtM1aqA2Qemk5gPOE7wFq8+Em+G/hmo5Iq0CCmYZLv3fVRDJ4MMwEA" crossorigin="anonymous">
    <link href="./dashboard.css" rel="stylesheet">

  </head>

  <body>
    <header>
        <nav class="navbar navbar-expand-md navbar-dark bg-dark">
          <a class="navbar-brand" href="#">GPU Passthrough</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a class="nav-link" href="#">Notebooks <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://github.com/T-vK/gpu-passthrough.com/issues/new?template=submit_new_device.md">Submit New Device</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://github.com/T-vK/gpu-passthrough.com/issues/new">Contact</a>
              </li>
            </ul>
            <form class="form-inline mt-2 mt-md-0">
              <input class="form-control mr-sm-2" type="text" disabled placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
          </div>
        </nav>
    </header>

  <div class="container-fluid">
    <div class="row">


      <main role="main" class="col-md-12 col-lg-12 px-4">

        <h2>Notebook Compatibility List</h2>
        <div class="table-responsive">
          <table id="notebook-compatibility-list" class="table table-striped table-sm">
            <thead>
              <tr>
                <th>Device</th>
                <th>CPU and GPUs</th>
                <th>dGPU passthrough</th>
                <th>iGPU passthrough</th>
                <th>eGPU passthrough</th>
                <!--<th>Checklist</th>-->
                <th>Tested by</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>

        <div class="flex-md-nowrap align-items-center">
            <div class="alert alert-success" role="alert">
                If you tested a device, please open an issue or pull request on the <a href="https://github.com/T-vK/gpu-passthourough.com" class="alert-link">Github project for this website</a>. Thank you. :)
            </div>
        </div>
        <div class="flex-md-nowrap align-items-center">
            <div class="alert alert-success" role="alert">
                Want to check if your device is compatible? Check out project <a href="https://github.com/T-vK/MobilePassThrough/" class="alert-link">MobilePassThrough</a>. It can also set up GPU passthrough for you atuomatically.
            </div>
        </div>

      </main>
    </div>
  </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.0/js/bootstrap.min.js" integrity="sha384-7aThvCh9TypR7fIc2HV4O/nFMVCBwyIUKL8XCtKE+8xgCgl/PQGuFsvShjr74PBp" crossorigin="anonymous"></script>

    <script>
        function getGpuGuestInfo(gpus,type) {
            return gpus.map(gpu => {
                if (gpu.type !== type)
                    return ''
                let gpuGuestInfo = ''
                for (const [guest,guestInfo] of Object.entries(gpu['passthrough-guests'])) {
                     gpuGuestInfo += `${guest}: ${guestInfo}<br/>`
                }
                return `<b>${gpu.name}</b>: <br/>${gpuGuestInfo}`
            }).filter(item=>item!='').join('<br/>')
        }
        function checklistToHtml(checklist) {
            let stringChecklist = ''
            for (const [key,value] of Object.entries(checklist)) {
                 stringChecklist += `${key}: ${value}<br/>`
            }
            return stringChecklist
        }
        $.getJSON("notebook-compatibility-list.json", function(devices) {
            devices.forEach((device, i) => {
                const name = device.name
                const cpu = device.cpu
                const gpus = device.gpus.filter(gpu=>gpu.type!=='eGPU').map(gpu => `${gpu.type}: ${gpu.name}`).join('<br/>')
                const dGpus = getGpuGuestInfo(device.gpus, 'dGPU')
                const iGpus = getGpuGuestInfo(device.gpus, 'iGPU')
                const eGpus = getGpuGuestInfo(device.gpus, 'eGPU')
                const checklist = checklistToHtml(device.checklist)
                const testedBy = device['tested-by'].map(tester=>`<a href="${tester.url}">${tester.name}</a`).join('<br/>')
                const notes = device.notes

                $('#notebook-compatibility-list>tbody').append(`
                    <tr>
                        <td>${name}</td>
                        <td>CPU: ${cpu}<br/>${gpus}</td>
                        <td>${dGpus}</td>
                        <td>${iGpus}</td>
                        <td>${eGpus}</td>
                        <!--<td>${checklist}</td>-->
                        <td>${testedBy}</td>
                        <td>${notes}</td>
                    </tr>
                `);
            });
        });
    </script>
  </body>
</html>
